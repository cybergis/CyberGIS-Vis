{"version":3,"file":"leaflet-lasso.umd.js","sources":["../node_modules/tslib/tslib.es6.js","../src/lasso-polygon.ts","../node_modules/terraformer/terraformer.js","../node_modules/circle-to-polygon/index.js","../src/calc.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/lasso-handler.ts","../src/lasso-control.ts","../src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import L from 'leaflet';\n\nexport class LassoPolygon extends L.Layer {\n    readonly polyline: L.Polyline;\n    readonly polygon: L.Polygon;\n\n    constructor(latlngs: L.LatLngExpression[], options?: L.PolylineOptions) {\n        super();\n\n        this.polyline = L.polyline(latlngs, options);\n        this.polygon = L.polygon(latlngs, { ...options, weight: 0 });\n    }\n\n    onAdd(map: L.Map): this {\n        this.polyline.addTo(map);\n        this.polygon.addTo(map);\n\n        return this;\n    }\n\n    onRemove(): this {\n        this.polyline.remove();\n        this.polygon.remove();\n\n        return this;\n    }\n\n    addLatLng(latlng: L.LatLngExpression): this {\n        this.polyline.addLatLng(latlng);\n        this.polygon.addLatLng(latlng);\n\n        return this;\n    }\n\n    getLatLngs(): L.LatLng[] {\n        return this.polygon.getLatLngs()[0] as L.LatLng[];\n    }\n\n    toGeoJSON(): GeoJSON.Feature<GeoJSON.Polygon> {\n        return this.polygon.toGeoJSON() as GeoJSON.Feature<GeoJSON.Polygon>;\n    }\n}","(function (root, factory) {\n\n  // Node.\n  if(typeof module === 'object' && typeof module.exports === 'object') {\n    exports = module.exports = factory();\n  }\n\n  // Browser Global.\n  if(typeof window === \"object\") {\n    root.Terraformer = factory();\n  }\n\n}(this, function(){\n  var exports = {},\n      EarthRadius = 6378137,\n      DegreesPerRadian = 57.295779513082320,\n      RadiansPerDegree =  0.017453292519943,\n      MercatorCRS = {\n        \"type\": \"link\",\n        \"properties\": {\n          \"href\": \"http://spatialreference.org/ref/sr-org/6928/ogcwkt/\",\n          \"type\": \"ogcwkt\"\n        }\n      },\n      GeographicCRS = {\n        \"type\": \"link\",\n        \"properties\": {\n          \"href\": \"http://spatialreference.org/ref/epsg/4326/ogcwkt/\",\n          \"type\": \"ogcwkt\"\n        }\n      };\n\n  /*\n  Internal: isArray function\n  */\n  function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  }\n\n  /*\n  Internal: safe warning\n  */\n  function warn() {\n    var args = Array.prototype.slice.apply(arguments);\n\n    if (typeof console !== undefined && console.warn) {\n      console.warn.apply(console, args);\n    }\n  }\n\n  /*\n  Internal: Extend one object with another.\n  */\n  function extend(destination, source) {\n    for (var k in source) {\n      if (source.hasOwnProperty(k)) {\n        destination[k] = source[k];\n      }\n    }\n    return destination;\n  }\n\n  /*\n  Public: Calculate an bounding box for a geojson object\n  */\n  function calculateBounds (geojson) {\n    if(geojson.type){\n      switch (geojson.type) {\n        case 'Point':\n          return [ geojson.coordinates[0], geojson.coordinates[1], geojson.coordinates[0], geojson.coordinates[1]];\n\n        case 'MultiPoint':\n          return calculateBoundsFromArray(geojson.coordinates);\n\n        case 'LineString':\n          return calculateBoundsFromArray(geojson.coordinates);\n\n        case 'MultiLineString':\n          return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n        case 'Polygon':\n          return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n        case 'MultiPolygon':\n          return calculateBoundsFromNestedArrayOfArrays(geojson.coordinates);\n\n        case 'Feature':\n          return geojson.geometry? calculateBounds(geojson.geometry) : null;\n\n        case 'FeatureCollection':\n          return calculateBoundsForFeatureCollection(geojson);\n\n        case 'GeometryCollection':\n          return calculateBoundsForGeometryCollection(geojson);\n\n        default:\n          throw new Error(\"Unknown type: \" + geojson.type);\n      }\n    }\n    return null;\n  }\n\n  /*\n  Internal: Calculate an bounding box from an nested array of positions\n  [\n    [\n      [ [lng, lat],[lng, lat],[lng, lat] ]\n    ]\n    [\n      [lng, lat],[lng, lat],[lng, lat]\n    ]\n    [\n      [lng, lat],[lng, lat],[lng, lat]\n    ]\n  ]\n  */\n  function calculateBoundsFromNestedArrays (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var inner = array[i];\n\n      for (var j = 0; j < inner.length; j++) {\n        var lonlat = inner[j];\n\n        var lon = lonlat[0];\n        var lat = lonlat[1];\n\n        if (x1 === null) {\n          x1 = lon;\n        } else if (lon < x1) {\n          x1 = lon;\n        }\n\n        if (x2 === null) {\n          x2 = lon;\n        } else if (lon > x2) {\n          x2 = lon;\n        }\n\n        if (y1 === null) {\n          y1 = lat;\n        } else if (lat < y1) {\n          y1 = lat;\n        }\n\n        if (y2 === null) {\n          y2 = lat;\n        } else if (lat > y2) {\n          y2 = lat;\n        }\n      }\n    }\n\n    return [x1, y1, x2, y2 ];\n  }\n\n  /*\n  Internal: Calculate a bounding box from an array of arrays of arrays\n  [\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n  ]\n  */\n  function calculateBoundsFromNestedArrayOfArrays (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var inner = array[i];\n\n      for (var j = 0; j < inner.length; j++) {\n        var innerinner = inner[j];\n        for (var k = 0; k < innerinner.length; k++) {\n          var lonlat = innerinner[k];\n\n          var lon = lonlat[0];\n          var lat = lonlat[1];\n\n          if (x1 === null) {\n            x1 = lon;\n          } else if (lon < x1) {\n            x1 = lon;\n          }\n\n          if (x2 === null) {\n            x2 = lon;\n          } else if (lon > x2) {\n            x2 = lon;\n          }\n\n          if (y1 === null) {\n            y1 = lat;\n          } else if (lat < y1) {\n            y1 = lat;\n          }\n\n          if (y2 === null) {\n            y2 = lat;\n          } else if (lat > y2) {\n            y2 = lat;\n          }\n        }\n      }\n    }\n\n    return [x1, y1, x2, y2];\n  }\n\n  /*\n  Internal: Calculate a bounding box from an array of positions\n  [\n    [lng, lat],[lng, lat],[lng, lat]\n  ]\n  */\n  function calculateBoundsFromArray (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var lonlat = array[i];\n      var lon = lonlat[0];\n      var lat = lonlat[1];\n\n      if (x1 === null) {\n        x1 = lon;\n      } else if (lon < x1) {\n        x1 = lon;\n      }\n\n      if (x2 === null) {\n        x2 = lon;\n      } else if (lon > x2) {\n        x2 = lon;\n      }\n\n      if (y1 === null) {\n        y1 = lat;\n      } else if (lat < y1) {\n        y1 = lat;\n      }\n\n      if (y2 === null) {\n        y2 = lat;\n      } else if (lat > y2) {\n        y2 = lat;\n      }\n    }\n\n    return [x1, y1, x2, y2 ];\n  }\n\n  /*\n  Internal: Calculate an bounding box for a feature collection\n  */\n  function calculateBoundsForFeatureCollection(featureCollection){\n    var extents = [], extent;\n    for (var i = featureCollection.features.length - 1; i >= 0; i--) {\n      extent = calculateBounds(featureCollection.features[i].geometry);\n      extents.push([extent[0],extent[1]]);\n      extents.push([extent[2],extent[3]]);\n    }\n\n    return calculateBoundsFromArray(extents);\n  }\n\n  /*\n  Internal: Calculate an bounding box for a geometry collection\n  */\n  function calculateBoundsForGeometryCollection(geometryCollection){\n    var extents = [], extent;\n\n    for (var i = geometryCollection.geometries.length - 1; i >= 0; i--) {\n      extent = calculateBounds(geometryCollection.geometries[i]);\n      extents.push([extent[0],extent[1]]);\n      extents.push([extent[2],extent[3]]);\n    }\n\n    return calculateBoundsFromArray(extents);\n  }\n\n  function calculateEnvelope(geojson){\n    var bounds = calculateBounds(geojson);\n    return {\n      x: bounds[0],\n      y: bounds[1],\n      w: Math.abs(bounds[0] - bounds[2]),\n      h: Math.abs(bounds[1] - bounds[3])\n    };\n  }\n\n  /*\n  Internal: Convert radians to degrees. Used by spatial reference converters.\n  */\n  function radToDeg(rad) {\n    return rad * DegreesPerRadian;\n  }\n\n  /*\n  Internal: Convert degrees to radians. Used by spatial reference converters.\n  */\n  function degToRad(deg) {\n    return deg * RadiansPerDegree;\n  }\n\n  /*\n  Internal: Loop over each array in a geojson object and apply a function to it. Used by spatial reference converters.\n  */\n  function eachPosition(coordinates, func) {\n    for (var i = 0; i < coordinates.length; i++) {\n      // we found a number so lets convert this pair\n      if(typeof coordinates[i][0] === \"number\"){\n        coordinates[i] = func(coordinates[i]);\n      }\n      // we found an coordinates array it again and run THIS function against it\n      if(typeof coordinates[i] === \"object\"){\n        coordinates[i] = eachPosition(coordinates[i], func);\n      }\n    }\n    return coordinates;\n  }\n\n  /*\n  Public: Convert a GeoJSON Position object to Geographic (4326)\n  */\n  function positionToGeographic(position) {\n    var x = position[0];\n    var y = position[1];\n    return [radToDeg(x / EarthRadius) - (Math.floor((radToDeg(x / EarthRadius) + 180) / 360) * 360), radToDeg((Math.PI / 2) - (2 * Math.atan(Math.exp(-1.0 * y / EarthRadius))))];\n  }\n\n  /*\n  Public: Convert a GeoJSON Position object to Web Mercator (102100)\n  */\n  function positionToMercator(position) {\n    var lng = position[0];\n    var lat = Math.max(Math.min(position[1], 89.99999), -89.99999);\n    return [degToRad(lng) * EarthRadius, EarthRadius/2.0 * Math.log( (1.0 + Math.sin(degToRad(lat))) / (1.0 - Math.sin(degToRad(lat))) )];\n  }\n\n  /*\n  Public: Apply a function agaist all positions in a geojson object. Used by spatial reference converters.\n  */\n  function applyConverter(geojson, converter, noCrs){\n    if(geojson.type === \"Point\") {\n      geojson.coordinates = converter(geojson.coordinates);\n    } else if(geojson.type === \"Feature\") {\n      geojson.geometry = applyConverter(geojson.geometry, converter, true);\n    } else if(geojson.type === \"FeatureCollection\") {\n      for (var f = 0; f < geojson.features.length; f++) {\n        geojson.features[f] = applyConverter(geojson.features[f], converter, true);\n      }\n    } else if(geojson.type === \"GeometryCollection\") {\n      for (var g = 0; g < geojson.geometries.length; g++) {\n        geojson.geometries[g] = applyConverter(geojson.geometries[g], converter, true);\n      }\n    } else {\n      geojson.coordinates = eachPosition(geojson.coordinates, converter);\n    }\n\n    if(!noCrs){\n      if(converter === positionToMercator){\n        geojson.crs = MercatorCRS;\n      }\n    }\n\n    if(converter === positionToGeographic){\n      delete geojson.crs;\n    }\n\n    return geojson;\n  }\n\n  /*\n  Public: Convert a GeoJSON object to ESRI Web Mercator (102100)\n  */\n  function toMercator(geojson) {\n    return applyConverter(geojson, positionToMercator);\n  }\n\n  /*\n  Convert a GeoJSON object to Geographic coordinates (WSG84, 4326)\n  */\n  function toGeographic(geojson) {\n    return applyConverter(geojson, positionToGeographic);\n  }\n\n\n  /*\n  Internal: -1,0,1 comparison function\n  */\n  function cmp(a, b) {\n    if(a < b) {\n      return -1;\n    } else if(a > b) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n  /*\n  Internal: used for sorting\n  */\n  function compSort(p1, p2) {\n    if (p1[0] > p2[0]) {\n      return -1;\n    } else if (p1[0] < p2[0]) {\n      return 1;\n    } else if (p1[1] > p2[1]) {\n      return -1;\n    } else if (p1[1] < p2[1]) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n\n  /*\n  Internal: used to determine turn\n  */\n  function turn(p, q, r) {\n    // Returns -1, 0, 1 if p,q,r forms a right, straight, or left turn.\n    return cmp((q[0] - p[0]) * (r[1] - p[1]) - (r[0] - p[0]) * (q[1] - p[1]), 0);\n  }\n\n  /*\n  Internal: used to determine euclidean distance between two points\n  */\n  function euclideanDistance(p, q) {\n    // Returns the squared Euclidean distance between p and q.\n    var dx = q[0] - p[0];\n    var dy = q[1] - p[1];\n\n    return dx * dx + dy * dy;\n  }\n\n  function nextHullPoint(points, p) {\n    // Returns the next point on the convex hull in CCW from p.\n    var q = p;\n    for(var r in points) {\n      var t = turn(p, q, points[r]);\n      if(t === -1 || t === 0 && euclideanDistance(p, points[r]) > euclideanDistance(p, q)) {\n        q = points[r];\n      }\n    }\n    return q;\n  }\n\n  function convexHull(points) {\n    // implementation of the Jarvis March algorithm\n    // adapted from http://tixxit.wordpress.com/2009/12/09/jarvis-march/\n\n    if(points.length === 0) {\n      return [];\n    } else if(points.length === 1) {\n      return points;\n    }\n\n    // Returns the points on the convex hull of points in CCW order.\n    var hull = [points.sort(compSort)[0]];\n\n    for(var p = 0; p < hull.length; p++) {\n      var q = nextHullPoint(points, hull[p]);\n\n      if(q !== hull[0]) {\n        hull.push(q);\n      }\n    }\n\n    return hull;\n  }\n\n  function isConvex(points) {\n    var ltz;\n\n    for (var i = 0; i < points.length - 3; i++) {\n      var p1 = points[i];\n      var p2 = points[i + 1];\n      var p3 = points[i + 2];\n      var v = [p2[0] - p1[0], p2[1] - p1[1]];\n\n      // p3.x * v.y - p3.y * v.x + v.x * p1.y - v.y * p1.x\n      var res = p3[0] * v[1] - p3[1] * v[0] + v[0] * p1[1] - v[1] * p1[0];\n\n      if (i === 0) {\n        if (res < 0) {\n          ltz = true;\n        } else {\n          ltz = false;\n        }\n      } else {\n        if (ltz && (res > 0) || !ltz && (res < 0)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function coordinatesContainPoint(coordinates, point) {\n    var contains = false;\n    for(var i = -1, l = coordinates.length, j = l - 1; ++i < l; j = i) {\n      if (((coordinates[i][1] <= point[1] && point[1] < coordinates[j][1]) ||\n           (coordinates[j][1] <= point[1] && point[1] < coordinates[i][1])) &&\n          (point[0] < (coordinates[j][0] - coordinates[i][0]) * (point[1] - coordinates[i][1]) / (coordinates[j][1] - coordinates[i][1]) + coordinates[i][0])) {\n        contains = !contains;\n      }\n    }\n    return contains;\n  }\n\n  function polygonContainsPoint(polygon, point) {\n    if (polygon && polygon.length) {\n      if (polygon.length === 1) { // polygon with no holes\n        return coordinatesContainPoint(polygon[0], point);\n      } else { // polygon with holes\n        if (coordinatesContainPoint(polygon[0], point)) {\n          for (var i = 1; i < polygon.length; i++) {\n            if (coordinatesContainPoint(polygon[i], point)) {\n              return false; // found in hole\n            }\n          }\n\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function edgeIntersectsEdge(a1, a2, b1, b2) {\n    var ua_t = (b2[0] - b1[0]) * (a1[1] - b1[1]) - (b2[1] - b1[1]) * (a1[0] - b1[0]);\n    var ub_t = (a2[0] - a1[0]) * (a1[1] - b1[1]) - (a2[1] - a1[1]) * (a1[0] - b1[0]);\n    var u_b  = (b2[1] - b1[1]) * (a2[0] - a1[0]) - (b2[0] - b1[0]) * (a2[1] - a1[1]);\n\n    if ( u_b !== 0 ) {\n      var ua = ua_t / u_b;\n      var ub = ub_t / u_b;\n\n      if ( 0 <= ua && ua <= 1 && 0 <= ub && ub <= 1 ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function arraysIntersectArrays(a, b) {\n    if (isNumber(a[0][0])) {\n      if (isNumber(b[0][0])) {\n        for (var i = 0; i < a.length - 1; i++) {\n          for (var j = 0; j < b.length - 1; j++) {\n            if (edgeIntersectsEdge(a[i], a[i + 1], b[j], b[j + 1])) {\n              return true;\n            }\n          }\n        }\n      } else {\n        for (var k = 0; k < b.length; k++) {\n          if (arraysIntersectArrays(a, b[k])) {\n            return true;\n          }\n        }\n      }\n    } else {\n      for (var l = 0; l < a.length; l++) {\n        if (arraysIntersectArrays(a[l], b)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /*\n  Internal: Returns a copy of coordinates for s closed polygon\n  */\n  function closedPolygon(coordinates) {\n    var outer = [ ];\n\n    for (var i = 0; i < coordinates.length; i++) {\n      var inner = coordinates[i].slice();\n      if (pointsEqual(inner[0], inner[inner.length - 1]) === false) {\n        inner.push(inner[0]);\n      }\n\n      outer.push(inner);\n    }\n\n    return outer;\n  }\n\n  function pointsEqual(a, b) {\n    for (var i = 0; i < a.length; i++) {\n\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function coordinatesEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    var na = a.slice().sort(compSort);\n    var nb = b.slice().sort(compSort);\n\n    for (var i = 0; i < na.length; i++) {\n      if (na[i].length !== nb[i].length) {\n        return false;\n      }\n      for (var j = 0; j < na.length; j++) {\n        if (na[i][j] !== nb[i][j]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  /*\n  Internal: An array of variables that will be excluded form JSON objects.\n  */\n  var excludeFromJSON = [\"length\"];\n\n  /*\n  Internal: Base GeoJSON Primitive\n  */\n  function Primitive(geojson){\n    if(geojson){\n      switch (geojson.type) {\n      case 'Point':\n        return new Point(geojson);\n\n      case 'MultiPoint':\n        return new MultiPoint(geojson);\n\n      case 'LineString':\n        return new LineString(geojson);\n\n      case 'MultiLineString':\n        return new MultiLineString(geojson);\n\n      case 'Polygon':\n        return new Polygon(geojson);\n\n      case 'MultiPolygon':\n        return new MultiPolygon(geojson);\n\n      case 'Feature':\n        return new Feature(geojson);\n\n      case 'FeatureCollection':\n        return new FeatureCollection(geojson);\n\n      case 'GeometryCollection':\n        return new GeometryCollection(geojson);\n\n      default:\n        throw new Error(\"Unknown type: \" + geojson.type);\n      }\n    }\n  }\n\n  Primitive.prototype.toMercator = function(){\n    return toMercator(this);\n  };\n\n  Primitive.prototype.toGeographic = function(){\n    return toGeographic(this);\n  };\n\n  Primitive.prototype.envelope = function(){\n    return calculateEnvelope(this);\n  };\n\n  Primitive.prototype.bbox = function(){\n    return calculateBounds(this);\n  };\n\n  Primitive.prototype.convexHull = function(){\n    var coordinates = [ ], i, j;\n    if (this.type === 'Point') {\n      return null;\n    } else if (this.type === 'LineString' || this.type === 'MultiPoint') {\n      if (this.coordinates && this.coordinates.length >= 3) {\n        coordinates = this.coordinates;\n      } else {\n        return null;\n      }\n    } else if (this.type === 'Polygon' || this.type === 'MultiLineString') {\n      if (this.coordinates && this.coordinates.length > 0) {\n        for (i = 0; i < this.coordinates.length; i++) {\n          coordinates = coordinates.concat(this.coordinates[i]);\n        }\n        if(coordinates.length < 3){\n          return null;\n        }\n      } else {\n        return null;\n      }\n    } else if (this.type === 'MultiPolygon') {\n      if (this.coordinates && this.coordinates.length > 0) {\n        for (i = 0; i < this.coordinates.length; i++) {\n          for (j = 0; j < this.coordinates[i].length; j++) {\n            coordinates = coordinates.concat(this.coordinates[i][j]);\n          }\n        }\n        if(coordinates.length < 3){\n          return null;\n        }\n      } else {\n        return null;\n      }\n    } else if(this.type === \"Feature\"){\n      var primitive = new Primitive(this.geometry);\n      return primitive.convexHull();\n    }\n\n    return new Polygon({\n      type: 'Polygon',\n      coordinates: closedPolygon([convexHull(coordinates)])\n    });\n  };\n\n  Primitive.prototype.toJSON = function(){\n    var obj = {};\n    for (var key in this) {\n      if (this.hasOwnProperty(key) && excludeFromJSON.indexOf(key) === -1) {\n        obj[key] = this[key];\n      }\n    }\n    obj.bbox = calculateBounds(this);\n    return obj;\n  };\n\n  Primitive.prototype.contains = function(primitive){\n    return new Primitive(primitive).within(this);\n  };\n\n  Primitive.prototype.within = function(primitive) {\n    var coordinates, i, contains;\n\n    // if we are passed a feature, use the polygon inside instead\n    if (primitive.type === 'Feature') {\n      primitive = primitive.geometry;\n    }\n\n    // point.within(point) :: equality\n    if (primitive.type === \"Point\") {\n      if (this.type === \"Point\") {\n        return pointsEqual(this.coordinates, primitive.coordinates);\n\n      }\n    }\n\n    // point.within(multilinestring)\n    if (primitive.type === \"MultiLineString\") {\n      if (this.type === \"Point\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var linestring = { type: \"LineString\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(linestring)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    // point.within(linestring), point.within(multipoint)\n    if (primitive.type === \"LineString\" || primitive.type === \"MultiPoint\") {\n      if (this.type === \"Point\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          if (this.coordinates.length !== primitive.coordinates[i].length) {\n            return false;\n          }\n\n          if (pointsEqual(this.coordinates, primitive.coordinates[i])) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (primitive.type === \"Polygon\") {\n      // polygon.within(polygon)\n      if (this.type === \"Polygon\") {\n        // check for equal polygons\n        if (primitive.coordinates.length === this.coordinates.length) {\n          for (i = 0; i < this.coordinates.length; i++) {\n            if (coordinatesEqual(this.coordinates[i], primitive.coordinates[i])) {\n              return true;\n            }\n          }\n        }\n\n        if (this.coordinates.length && polygonContainsPoint(primitive.coordinates, this.coordinates[0][0])) {\n          return !arraysIntersectArrays(closedPolygon(this.coordinates), closedPolygon(primitive.coordinates));\n        } else {\n          return false;\n        }\n\n      // point.within(polygon)\n      } else if (this.type === \"Point\") {\n        return polygonContainsPoint(primitive.coordinates, this.coordinates);\n\n      // linestring/multipoint withing polygon\n      } else if (this.type === \"LineString\" || this.type === \"MultiPoint\") {\n        if (!this.coordinates || this.coordinates.length === 0) {\n          return false;\n        }\n\n        for (i = 0; i < this.coordinates.length; i++) {\n          if (polygonContainsPoint(primitive.coordinates, this.coordinates[i]) === false) {\n            return false;\n          }\n        }\n\n        return true;\n\n      // multilinestring.within(polygon)\n      } else if (this.type === \"MultiLineString\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var ls = new LineString(this.coordinates[i]);\n\n          if (ls.within(primitive) === false) {\n            contains++;\n            return false;\n          }\n        }\n\n        return true;\n\n      // multipolygon.within(polygon)\n      } else if (this.type === \"MultiPolygon\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var p1 = new Primitive({ type: \"Polygon\", coordinates: this.coordinates[i] });\n\n          if (p1.within(primitive) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n    }\n\n    if (primitive.type === \"MultiPolygon\") {\n      // point.within(multipolygon)\n      if (this.type === \"Point\") {\n        if (primitive.coordinates.length) {\n          for (i = 0; i < primitive.coordinates.length; i++) {\n            coordinates = primitive.coordinates[i];\n            if (polygonContainsPoint(coordinates, this.coordinates) && arraysIntersectArrays([this.coordinates], primitive.coordinates) === false) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      // polygon.within(multipolygon)\n      } else if (this.type === \"Polygon\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          if (primitive.coordinates[i].length === this.coordinates.length) {\n            for (j = 0; j < this.coordinates.length; j++) {\n              if (coordinatesEqual(this.coordinates[j], primitive.coordinates[i][j])) {\n                return true;\n              }\n            }\n          }\n        }\n\n        if (arraysIntersectArrays(this.coordinates, primitive.coordinates) === false) {\n          if (primitive.coordinates.length) {\n            for (i = 0; i < primitive.coordinates.length; i++) {\n              coordinates = primitive.coordinates[i];\n              if (polygonContainsPoint(coordinates, this.coordinates[0][0]) === false) {\n                contains = false;\n              } else {\n                contains = true;\n              }\n            }\n\n            return contains;\n          }\n        }\n\n      // linestring.within(multipolygon), multipoint.within(multipolygon)\n      } else if (this.type === \"LineString\" || this.type === \"MultiPoint\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var p = { type: \"Polygon\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(p)) {\n            return true;\n          }\n\n          return false;\n        }\n\n      // multilinestring.within(multipolygon)\n      } else if (this.type === \"MultiLineString\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var lines = new LineString(this.coordinates[i]);\n\n          if (lines.within(primitive) === false) {\n            return false;\n          }\n        }\n\n        return true;\n\n      // multipolygon.within(multipolygon)\n      } else if (this.type === \"MultiPolygon\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var mpoly = { type: \"Polygon\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(mpoly) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    // default to false\n    return false;\n  };\n\n  Primitive.prototype.intersects = function(primitive) {\n    // if we are passed a feature, use the polygon inside instead\n    if (primitive.type === 'Feature') {\n      primitive = primitive.geometry;\n    }\n\n    var p = new Primitive(primitive);\n    if (this.within(primitive) || p.within(this)) {\n      return true;\n    }\n\n\n    if (this.type !== 'Point' && this.type !== 'MultiPoint' &&\n        primitive.type !== 'Point' && primitive.type !== 'MultiPoint') {\n      return arraysIntersectArrays(this.coordinates, primitive.coordinates);\n    } else if (this.type === 'Feature') {\n      // in the case of a Feature, use the internal primitive for intersection\n      var inner = new Primitive(this.geometry);\n      return inner.intersects(primitive);\n    }\n\n    warn(\"Type \" + this.type + \" to \" + primitive.type + \" intersection is not supported by intersects\");\n    return false;\n  };\n\n\n  /*\n  GeoJSON Point Class\n    new Point();\n    new Point(x,y,z,wtf);\n    new Point([x,y,z,wtf]);\n    new Point([x,y]);\n    new Point({\n      type: \"Point\",\n      coordinates: [x,y]\n    });\n  */\n  function Point(input){\n    var args = Array.prototype.slice.call(arguments);\n\n    if(input && input.type === \"Point\" && input.coordinates){\n      extend(this, input);\n    } else if(input && isArray(input)) {\n      this.coordinates = input;\n    } else if(args.length >= 2) {\n      this.coordinates = args;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Point\";\n    }\n\n    this.type = \"Point\";\n  }\n\n  Point.prototype = new Primitive();\n  Point.prototype.constructor = Point;\n\n  /*\n  GeoJSON MultiPoint Class\n      new MultiPoint();\n      new MultiPoint([[x,y], [x1,y1]]);\n      new MultiPoint({\n        type: \"MultiPoint\",\n        coordinates: [x,y]\n      });\n  */\n  function MultiPoint(input){\n    if(input && input.type === \"MultiPoint\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiPoint\";\n    }\n\n    this.type = \"MultiPoint\";\n  }\n\n  MultiPoint.prototype = new Primitive();\n  MultiPoint.prototype.constructor = MultiPoint;\n  MultiPoint.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates]);\n    }\n    return this;\n  };\n  MultiPoint.prototype.addPoint = function(point){\n    this.coordinates.push(point);\n    return this;\n  };\n  MultiPoint.prototype.insertPoint = function(point, index){\n    this.coordinates.splice(index, 0, point);\n    return this;\n  };\n  MultiPoint.prototype.removePoint = function(remove){\n    if(typeof remove === \"number\"){\n      this.coordinates.splice(remove, 1);\n    } else {\n      this.coordinates.splice(this.coordinates.indexOf(remove), 1);\n    }\n    return this;\n  };\n  MultiPoint.prototype.get = function(i){\n    return new Point(this.coordinates[i]);\n  };\n\n  /*\n  GeoJSON LineString Class\n      new LineString();\n      new LineString([[x,y], [x1,y1]]);\n      new LineString({\n        type: \"LineString\",\n        coordinates: [x,y]\n      });\n  */\n  function LineString(input){\n    if(input && input.type === \"LineString\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.LineString\";\n    }\n\n    this.type = \"LineString\";\n  }\n\n  LineString.prototype = new Primitive();\n  LineString.prototype.constructor = LineString;\n  LineString.prototype.addVertex = function(point){\n    this.coordinates.push(point);\n    return this;\n  };\n  LineString.prototype.insertVertex = function(point, index){\n    this.coordinates.splice(index, 0, point);\n    return this;\n  };\n  LineString.prototype.removeVertex = function(remove){\n    this.coordinates.splice(remove, 1);\n    return this;\n  };\n\n  /*\n  GeoJSON MultiLineString Class\n      new MultiLineString();\n      new MultiLineString([ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ]);\n      new MultiLineString({\n        type: \"MultiLineString\",\n        coordinates: [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ]\n      });\n  */\n  function MultiLineString(input){\n    if(input && input.type === \"MultiLineString\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiLineString\";\n    }\n\n    this.type = \"MultiLineString\";\n  }\n\n  MultiLineString.prototype = new Primitive();\n  MultiLineString.prototype.constructor = MultiLineString;\n  MultiLineString.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates ]);\n    }\n  };\n  MultiLineString.prototype.get = function(i){\n    return new LineString(this.coordinates[i]);\n  };\n\n  /*\n  GeoJSON Polygon Class\n      new Polygon();\n      new Polygon([ [[x,y], [x1,y1], [x2,y2]] ]);\n      new Polygon({\n        type: \"Polygon\",\n        coordinates: [ [[x,y], [x1,y1], [x2,y2]] ]\n      });\n  */\n  function Polygon(input){\n    if(input && input.type === \"Polygon\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Polygon\";\n    }\n\n    this.type = \"Polygon\";\n  }\n\n  Polygon.prototype = new Primitive();\n  Polygon.prototype.constructor = Polygon;\n  Polygon.prototype.addVertex = function(point){\n    this.insertVertex(point, this.coordinates[0].length - 1);\n    return this;\n  };\n  Polygon.prototype.insertVertex = function(point, index){\n    this.coordinates[0].splice(index, 0, point);\n    return this;\n  };\n  Polygon.prototype.removeVertex = function(remove){\n    this.coordinates[0].splice(remove, 1);\n    return this;\n  };\n  Polygon.prototype.close = function() {\n    this.coordinates = closedPolygon(this.coordinates);\n  };\n  Polygon.prototype.hasHoles = function() {\n    return this.coordinates.length > 1;\n  };\n  Polygon.prototype.holes = function() {\n    holes = [];\n    if (this.hasHoles()) {\n      for (var i = 1; i < this.coordinates.length; i++) {\n        holes.push(new Polygon([this.coordinates[i]]));\n      }\n    }\n    return holes;\n  };\n\n  /*\n  GeoJSON MultiPolygon Class\n      new MultiPolygon();\n      new MultiPolygon([ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]);\n      new MultiPolygon({\n        type: \"MultiPolygon\",\n        coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n      });\n  */\n  function MultiPolygon(input){\n    if(input && input.type === \"MultiPolygon\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiPolygon\";\n    }\n\n    this.type = \"MultiPolygon\";\n  }\n\n  MultiPolygon.prototype = new Primitive();\n  MultiPolygon.prototype.constructor = MultiPolygon;\n  MultiPolygon.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates ]);\n    }\n  };\n  MultiPolygon.prototype.get = function(i){\n    return new Polygon(this.coordinates[i]);\n  };\n  MultiPolygon.prototype.close = function(){\n    var outer = [];\n    this.forEach(function(polygon){\n      outer.push(closedPolygon(polygon));\n    });\n    this.coordinates = outer;\n    return this;\n  };\n\n  /*\n  GeoJSON Feature Class\n      new Feature();\n      new Feature({\n        type: \"Feature\",\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n        }\n      });\n      new Feature({\n        type: \"Polygon\",\n        coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n      });\n  */\n  function Feature(input){\n    if(input && input.type === \"Feature\"){\n      extend(this, input);\n    } else if(input && input.type && input.coordinates) {\n      this.geometry = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Feature\";\n    }\n\n    this.type = \"Feature\";\n  }\n\n  Feature.prototype = new Primitive();\n  Feature.prototype.constructor = Feature;\n\n  /*\n  GeoJSON FeatureCollection Class\n      new FeatureCollection();\n      new FeatureCollection([feature, feature1]);\n      new FeatureCollection({\n        type: \"FeatureCollection\",\n        coordinates: [feature, feature1]\n      });\n  */\n  function FeatureCollection(input){\n    if(input && input.type === \"FeatureCollection\" && input.features){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.features = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.FeatureCollection\";\n    }\n\n    this.type = \"FeatureCollection\";\n  }\n\n  FeatureCollection.prototype = new Primitive();\n  FeatureCollection.prototype.constructor = FeatureCollection;\n  FeatureCollection.prototype.forEach = function(func){\n    for (var i = 0; i < this.features.length; i++) {\n      func.apply(this, [this.features[i], i, this.features]);\n    }\n  };\n  FeatureCollection.prototype.get = function(id){\n    var found;\n    this.forEach(function(feature){\n      if(feature.id === id){\n        found = feature;\n      }\n    });\n    return new Feature(found);\n  };\n\n  /*\n  GeoJSON GeometryCollection Class\n      new GeometryCollection();\n      new GeometryCollection([geometry, geometry1]);\n      new GeometryCollection({\n        type: \"GeometryCollection\",\n        coordinates: [geometry, geometry1]\n      });\n  */\n  function GeometryCollection(input){\n    if(input && input.type === \"GeometryCollection\" && input.geometries){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.geometries = input;\n    } else if(input.coordinates && input.type){\n      this.type = \"GeometryCollection\";\n      this.geometries = [input];\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.GeometryCollection\";\n    }\n\n    this.type = \"GeometryCollection\";\n  }\n\n  GeometryCollection.prototype = new Primitive();\n  GeometryCollection.prototype.constructor = GeometryCollection;\n  GeometryCollection.prototype.forEach = function(func){\n    for (var i = 0; i < this.geometries.length; i++) {\n      func.apply(this, [this.geometries[i], i, this.geometries]);\n    }\n  };\n  GeometryCollection.prototype.get = function(i){\n    return new Primitive(this.geometries[i]);\n  };\n\n  function createCircle(center, radius, interpolate){\n    var mercatorPosition = positionToMercator(center);\n    var steps = interpolate || 64;\n    var polygon = {\n      type: \"Polygon\",\n      coordinates: [[]]\n    };\n    for(var i=1; i<=steps; i++) {\n      var radians = i * (360/steps) * Math.PI / 180;\n      polygon.coordinates[0].push([mercatorPosition[0] + radius * Math.cos(radians), mercatorPosition[1] + radius * Math.sin(radians)]);\n    }\n    polygon.coordinates = closedPolygon(polygon.coordinates);\n\n    return toGeographic(polygon);\n  }\n\n  function Circle (center, radius, interpolate) {\n    var steps = interpolate || 64;\n    var rad = radius || 250;\n\n    if(!center || center.length < 2 || !rad || !steps) {\n      throw new Error(\"Terraformer: missing parameter for Terraformer.Circle\");\n    }\n\n    extend(this, new Feature({\n      type: \"Feature\",\n      geometry: createCircle(center, rad, steps),\n      properties: {\n        radius: rad,\n        center: center,\n        steps: steps\n      }\n    }));\n  }\n\n  Circle.prototype = new Primitive();\n  Circle.prototype.constructor = Circle;\n  Circle.prototype.recalculate = function(){\n    this.geometry = createCircle(this.properties.center, this.properties.radius, this.properties.steps);\n    return this;\n  };\n  Circle.prototype.center = function(coordinates){\n    if(coordinates){\n      this.properties.center = coordinates;\n      this.recalculate();\n    }\n    return this.properties.center;\n  };\n  Circle.prototype.radius = function(radius){\n    if(radius){\n      this.properties.radius = radius;\n      this.recalculate();\n    }\n    return this.properties.radius;\n  };\n  Circle.prototype.steps = function(steps){\n    if(steps){\n      this.properties.steps = steps;\n      this.recalculate();\n    }\n    return this.properties.steps;\n  };\n\n  Circle.prototype.toJSON = function() {\n    var output = Primitive.prototype.toJSON.call(this);\n    return output;\n  };\n\n  exports.Primitive = Primitive;\n  exports.Point = Point;\n  exports.MultiPoint = MultiPoint;\n  exports.LineString = LineString;\n  exports.MultiLineString = MultiLineString;\n  exports.Polygon = Polygon;\n  exports.MultiPolygon = MultiPolygon;\n  exports.Feature = Feature;\n  exports.FeatureCollection = FeatureCollection;\n  exports.GeometryCollection = GeometryCollection;\n  exports.Circle = Circle;\n\n  exports.toMercator = toMercator;\n  exports.toGeographic = toGeographic;\n\n  exports.Tools = {};\n  exports.Tools.positionToMercator = positionToMercator;\n  exports.Tools.positionToGeographic = positionToGeographic;\n  exports.Tools.applyConverter = applyConverter;\n  exports.Tools.toMercator = toMercator;\n  exports.Tools.toGeographic = toGeographic;\n  exports.Tools.createCircle = createCircle;\n\n  exports.Tools.calculateBounds = calculateBounds;\n  exports.Tools.calculateEnvelope = calculateEnvelope;\n\n  exports.Tools.coordinatesContainPoint = coordinatesContainPoint;\n  exports.Tools.polygonContainsPoint = polygonContainsPoint;\n  exports.Tools.arraysIntersectArrays = arraysIntersectArrays;\n  exports.Tools.coordinatesContainPoint = coordinatesContainPoint;\n  exports.Tools.coordinatesEqual = coordinatesEqual;\n  exports.Tools.convexHull = convexHull;\n  exports.Tools.isConvex = isConvex;\n\n  exports.MercatorCRS = MercatorCRS;\n  exports.GeographicCRS = GeographicCRS;\n\n  return exports;\n}));\n","\"use strict\";\nfunction toRadians(angleInDegrees) {\n  return angleInDegrees * Math.PI / 180;\n}\n\nfunction toDegrees(angleInRadians) {\n  return angleInRadians * 180 / Math.PI;\n}\n\nfunction offset(c1, distance, bearing) {\n  var lat1 = toRadians(c1[1]);\n  var lon1 = toRadians(c1[0]);\n  var dByR = distance / 6378137; // distance divided by 6378137 (radius of the earth) wgs84\n  var lat = Math.asin(\n    Math.sin(lat1) * Math.cos(dByR) +\n    Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\n  var lon = lon1 + Math.atan2(\n      Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1),\n      Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\n  return [toDegrees(lon), toDegrees(lat)];\n}\n\nmodule.exports = function circleToPolygon(center, radius, numberOfSegments) {\n  var n = numberOfSegments ? numberOfSegments : 32;\n  var flatCoordinates = [];\n  var coordinates = [];\n  for (var i = 0; i < n; ++i) {\n    flatCoordinates.push.apply(flatCoordinates, offset(center, radius, 2 * Math.PI * i / n));\n  }\n  flatCoordinates.push(flatCoordinates[0], flatCoordinates[1]);\n\n  for (var i = 0, j = 0; j < flatCoordinates.length; j += 2) {\n    coordinates[i++] = flatCoordinates.slice(j, j + 2);\n  }\n\n  return {\n    type: 'Polygon',\n    coordinates: [coordinates.reverse()]\n  };\n};\n","import L from 'leaflet';\nimport Terraformer from 'terraformer';\nimport circleToPolygon from 'circle-to-polygon';\n\nfunction getCircleMarkerRadius(circleMarker: L.CircleMarker, crs: L.CRS, zoom: number) {\n    const latLng = circleMarker.getLatLng();\n    const point = crs.latLngToPoint(latLng, zoom);\n    const delta = circleMarker.getRadius() / Math.SQRT2;\n    const topLeftPoint = L.point([point.x - delta, point.y - delta]);\n    const topLeftLatLng = crs.pointToLatLng(topLeftPoint, zoom);\n    const radius = crs.distance(latLng, topLeftLatLng);\n    return radius;\n}\n\nfunction circleToGeoJSONGeometry(latLng: L.LatLng, radius: number) {\n    // Terraformer result is incorrect, see https://github.com/Esri/terraformer/issues/321\n    // return new Terraformer.Circle(L.GeoJSON.latLngToCoords(latLng), radius).geometry;\n\n    return circleToPolygon(L.GeoJSON.latLngToCoords(latLng), radius);\n}\n\nexport function getLayersInPolygon(polygon: GeoJSON.Polygon, layers: L.Layer[], options: { zoom?: number, crs?: L.CRS, intersect?: boolean } = {}) {\n    const crs = options.crs || L.CRS.EPSG3857;\n    const polygonGeometry = new Terraformer.Primitive(polygon);\n\n    const selectedLayers = layers.filter(layer => {\n        let layerGeometry: GeoJSON.GeometryObject;\n\n        if (layer instanceof L.Circle) {\n            const latLng = layer.getLatLng();\n            const radius = layer.getRadius();\n            layerGeometry = circleToGeoJSONGeometry(latLng, radius);\n        } else if (layer instanceof L.CircleMarker) {\n            if (options.zoom != undefined) {\n                const latLng = layer.getLatLng();\n                const radius = getCircleMarkerRadius(layer, crs, options.zoom);\n                layerGeometry = circleToGeoJSONGeometry(latLng, radius);\n            } else {\n                console.warn(\"Zoom is required for calculating CircleMarker polygon, falling back to center point only\");\n                layerGeometry = layer.toGeoJSON().geometry;\n            }\n        } else if (layer instanceof L.Marker || layer instanceof L.Polyline) {\n            layerGeometry = layer.toGeoJSON().geometry;\n        } else {\n            return false;\n        }\n\n        return options.intersect && layerGeometry.type !== \"Point\" ?\n            polygonGeometry.intersects(layerGeometry) :\n            polygonGeometry.contains(layerGeometry);\n    });\n    \n    return selectedLayers;\n}","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import L from 'leaflet';\nimport { LassoPolygon } from './lasso-polygon';\nimport { getLayersInPolygon } from './calc';\nimport './lasso-handler.css';\n\nexport interface LassoHandlerOptions {\n    polygon?: L.PolylineOptions,\n    intersect?: boolean;\n}\n\ninterface LassoHandlerFinishedEventData {\n    latLngs: L.LatLng[];\n    layers: L.Layer[];\n}\n\nexport type LassoHandlerFinishedEvent = L.LeafletEvent & LassoHandlerFinishedEventData;\n\nexport const ENABLED_EVENT = 'lasso.enabled';\nexport const DISABLED_EVENT = 'lasso.disabled';\nexport const FINISHED_EVENT = 'lasso.finished';\n\nexport const ACTIVE_CLASS = 'leaflet-lasso-active';\n\nexport class LassoHandler extends L.Handler {\n    options: LassoHandlerOptions = {\n        polygon: {\n            color: '#00C3FF',\n            weight: 2,\n        },\n        intersect: false,\n    };\n\n    private map: L.Map;\n\n    private polygon?: LassoPolygon;\n\n    private onDocumentMouseMoveBound = this.onDocumentMouseMove.bind(this);\n    private onDocumentMouseUpBound = this.onDocumentMouseUp.bind(this);\n\n    constructor(map: L.Map, options: LassoHandlerOptions = {}) {\n        super(map);\n        \n        this.map = map;\n        L.Util.setOptions(this, options);\n    }\n\n    setOptions(options: LassoHandlerOptions) {\n        this.options = { ...this.options, ...options };\n    }\n\n    toggle() {\n        if (this.enabled()) {\n            this.disable();\n        } else {\n            this.enable();\n        }\n    }\n    \n    addHooks() {\n        this.map.getPane('mapPane');\n        this.map.on('mousedown', this.onMapMouseDown, this);\n        \n        const mapContainer = this.map.getContainer();\n        mapContainer.classList.add(ACTIVE_CLASS);\n\n        this.map.dragging.disable();\n        this.map.fire(ENABLED_EVENT);\n    }\n\n    removeHooks() {\n        if (this.polygon) {\n            this.map.removeLayer(this.polygon);\n            this.polygon = undefined;\n        }\n\n        this.map.off('mousedown', this.onMapMouseDown, this);\n        document.removeEventListener('mousemove', this.onDocumentMouseMoveBound);\n        document.removeEventListener('mouseup', this.onDocumentMouseUpBound);\n\n        this.map.getContainer().classList.remove(ACTIVE_CLASS);\n        document.body.classList.remove(ACTIVE_CLASS);\n\n        this.map.dragging.enable();\n        this.map.fire(DISABLED_EVENT);\n    }\n\n    getPolygon() {\n        return this.polygon;\n    }\n\n    private onMapMouseDown(event: L.LeafletEvent) {\n        const event2 = event as L.LeafletMouseEvent;\n\n        // activate lasso only for left mouse button click\n        if (event2.originalEvent.buttons !== 1) {\n            this.disable();\n            return;\n        }\n\n        // skip clicks on controls\n        if ((event2.originalEvent.target as HTMLElement).closest('.leaflet-control-container')) {\n            return;\n        }\n\n        this.polygon = new LassoPolygon([event2.latlng], this.options.polygon).addTo(this.map);\n\n        document.body.classList.add(ACTIVE_CLASS);\n\n        document.addEventListener('mousemove', this.onDocumentMouseMoveBound);\n        document.addEventListener('mouseup', this.onDocumentMouseUpBound);\n    }\n\n    private onDocumentMouseMove(event: Event) {\n        if (!this.polygon) {\n            return;\n        }\n\n        const event2 = event as MouseEvent;\n\n        // keep lasso active only if left mouse button is hold\n        if (event2.buttons !== 1) {\n            console.warn('mouseup event was missed');\n            this.finish();\n            return;\n        }\n\n        this.polygon.addLatLng(this.map.mouseEventToLatLng(event2));\n    }\n\n    private onDocumentMouseUp() {\n        this.finish();\n    }\n\n    private finish() {\n        if (!this.polygon) {\n            return;\n        }\n\n        const polygon = this.polygon.toGeoJSON().geometry;\n        const layers: L.Layer[] = [];\n        this.map.eachLayer(layer => {\n            if (layer === this.polygon || layer === this.polygon!.polyline || layer === this.polygon!.polygon) {\n                return;\n            }\n\n            if (layer instanceof L.Marker || layer instanceof L.Path) {\n                layers.push(layer);\n            } else if (L.MarkerCluster && layer instanceof L.MarkerCluster) {\n                layers.push(...layer.getAllChildMarkers());\n            }\n        });\n\n        const selectedFeatures = getLayersInPolygon(polygon, layers, {\n            zoom: this.map.getZoom(),\n            crs: this.map.options.crs,\n            intersect: this.options.intersect,\n        });\n\n        this.map.fire(FINISHED_EVENT, {\n            latLngs: this.polygon.getLatLngs(),\n            layers: selectedFeatures,\n        } as LassoHandlerFinishedEventData);\n\n        this.disable();\n    }\n}\n","import L from 'leaflet';\nimport { LassoHandler, LassoHandlerOptions } from './lasso-handler';\nimport './lasso-control.css';\n\nexport type LassoControlOptions = LassoHandlerOptions & L.ControlOptions;\n\nexport class LassoControl extends L.Control {\n    options: LassoControlOptions = {\n        position: 'topright',\n    };\n\n    private lasso?: LassoHandler;\n\n    constructor(options: LassoControlOptions = {}) {\n        super();\n\n        L.Util.setOptions(this, options);\n    }\n\n    setOptions(options: LassoControlOptions) {\n        this.options = { ...this.options, ...options };\n        \n        if (this.lasso) {\n            this.lasso.setOptions(this.options);\n        }\n    }\n\n    onAdd(map: L.Map) {\n        this.lasso = new LassoHandler(map, this.options);\n\n        const container = L.DomUtil.create('div', 'leaflet-bar leaflet-control') as HTMLDivElement;\n        const button = L.DomUtil.create('a', 'leaflet-control-lasso', container) as HTMLAnchorElement;\n        button.href = '#';\n        button.title = 'Toggle Lasso';\n        button.setAttribute('role', 'button');\n        button.setAttribute('aria-label', button.title);\n\n        L.DomEvent.addListener(button, 'click', this.toggle, this);\n\n        return container;\n    }\n\n    enabled() {\n        if (!this.lasso) {\n            return false;\n        }\n        return this.lasso.enabled();\n    }\n\n    enable() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.enable();\n    }\n\n    disable() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.disable();\n    }\n\n    toggle() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.toggle();\n    }\n}\n","import L from 'leaflet';\nimport { LassoHandler } from './lasso-handler';\nimport { LassoControl } from './lasso-control';\n\ndeclare module 'leaflet' {\n    type Lasso = LassoHandler;\n    let Lasso: typeof LassoHandler;\n\n    let lasso: (...args: ConstructorParameters<typeof LassoHandler>) => LassoHandler;\n    \n    namespace Control {\n        type Lasso = LassoControl;\n        let Lasso: typeof LassoControl;\n    }\n\n    namespace control {\n        let lasso: (...args: ConstructorParameters<typeof LassoControl>) => LassoControl;\n    }\n}\n\nL.Lasso = LassoHandler;\nL.lasso = (...args: ConstructorParameters<typeof LassoHandler>) => new LassoHandler(...args);\n\nL.Control.Lasso = LassoControl;\nL.control.lasso = (...args: ConstructorParameters<typeof LassoControl>) => new LassoControl(...args);\n\nexport * from './lasso-handler';\nexport * from './lasso-control';"],"names":["tslib_1.__extends","this","Terraformer"],"mappings":"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"}